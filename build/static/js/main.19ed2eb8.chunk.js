(this["webpackJsonpspeech-sample"]=this["webpackJsonpspeech-sample"]||[]).push([[0],{136:function(e,t){},138:function(e,t){},140:function(e,t){},141:function(e,t){},142:function(e,t){},143:function(e,t){},162:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var c=n(36),o=(n(157),n(43)),s=n.n(o),i=n(134),a=n.n(i),r=n(2),u=n.n(r),p=n(105),l=n(0),d=n(1),h=n(4),f=n(5),m=n(197),j=n(135),b=n.n(j),g=(n(162),n(18)),y=n(132),x=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).state={displayText:"INITIALIZED: ready to test speech..."},c}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"eastus",b.a.ajax({url:"https://eastus.api.cognitive.microsoft.com/sts/v1.0/issuetoken",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Ocp-Apim-Subscription-Key","0fd7e229d17b44a788e4efce5e3aedf3")},type:"POST",data:'{ "url": "#"}'}).done((function(e){sessionStorage.setItem("speech-token","eastus:"+e)})).fail((function(e){alert("error : "+e)})),null===sessionStorage.getItem("speech-token")&&this.setState({displayText:"Press the microphone icon for voice recognition"});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sttFromMic",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,n,c,o,s,i,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sessionStorage.getItem("speech-token"),n=t.split(":")[0],c=t.split(":")[1],(o=y.SpeechConfig.fromAuthorizationToken(c,n)).speechRecognitionLanguage="en-US",s=y.AudioConfig.fromMicrophoneInput(),i=new y.SpeechRecognizer(o,s),this.setState({displayText:"speak into your microphone..."}),i.recognizeOnceAsync((function(e){var t;t=e.reason===g.a.RecognizedSpeech?"Spoken Text : ".concat(e.text.replace(/\./g,"")):"ERROR: Speech was cancelled or could not be recognized. Ensure your microphone is working properly.",a.setState({displayText:t})}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(c.jsxs)(m.a,{className:"app-container",children:[Object(c.jsx)("h1",{className:"display-4 mb-3",children:"Voice Recognition Demo"}),Object(c.jsxs)("div",{className:"row main-container",children:[Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("i",{className:"fas fa-microphone fa-lg mr-2",onClick:function(){return e.sttFromMic()}}),"Speak (Press the mic icon)"]}),Object(c.jsx)("div",{className:"col-6 output-display rounded",children:Object(c.jsx)("code",{children:this.state.displayText})})]})]})}}]),n}(o.Component);a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root"))},54:function(e,t){},63:function(e,t){}},[[189,1,2]]]);
//# sourceMappingURL=main.19ed2eb8.chunk.js.map